import{u as s,r as a,c as n}from"./q-f8d3670d.js";import{l as i,E as l,h as c,j as m,c as f,_ as u,p as _}from"./q-3396b8e1.js";import"./q-c1d3cd99.js";const v=({cleanup:r})=>{const[e]=i();e.store.internal.validate=e.validate?Array.isArray(e.validate)?e.validate:[e.validate]:[],"value"in e.store&&(e.store.internal.transform=e.transform?Array.isArray(e.transform)?e.transform:[e.transform]:[]);const t=n();e.store.internal.consumers.push(t),e.store.active||(e.store.active=!0,s(e.of)),r(()=>{e.store.internal.consumers.splice(e.store.internal.consumers.indexOf(t),1),!e.keepActive&&!e.store.internal.consumers.length&&(e.store.active=!1,e.keepState?s(e.of):a(e.of,e.store.name)),"value"in e.store&&setTimeout(()=>{e.store.internal.elements=e.store.internal.elements.filter(o=>o.isConnected)})})},p=r=>(l(f(()=>u(()=>Promise.resolve().then(()=>d),void 0),"s_LcO2OGTEA00",[r])),c(m,null,3,"Pr_0")),d=Object.freeze(Object.defineProperty({__proto__:null,_hW:_,s_LcO2OGTEA00:v,s_vBVRkPF8kFE:p},Symbol.toStringTag,{value:"Module"}));export{_ as _hW,v as s_LcO2OGTEA00,p as s_vBVRkPF8kFE};
